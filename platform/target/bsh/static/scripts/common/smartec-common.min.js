Ext.BLANK_IMAGE_URL=path("/static/images/s.gif");function renderBoolean(a){return a==1?messages["ext.catalog.productattr.text.yes"]:messages["ext.catalog.productattr.text.no"]}function multiStrValueConverter(a){if(!a){return}return a.split(",")}function multiIntValueConverter(d){if(!d||Ext.isArray(d)){return}var b=0,c=d.split(","),a=[];for(;b<c.length;b++){a.push(parseInt(c[b],10))}return a}function converterCustomerType(b,c,a){return messages["customer.type."+b+".message"]}function converterCustomerEnable(b,c,a){return messages["customer.enable."+b+".message"]}function createOptionStore(c){var d=[];for(var b in c){var a={label:c[b],value:parseInt(b,10)};d.push(a)}return Ext.create("Ext.data.Store",{fields:["label","value"],data:d})}function genProductGroupFields(d,c,b){var g=0,f=[];for(;g<d.length;g++){var a=genProductFields(d[g].attributes,b);if(g==0){a.push({xtype:"textfield",fieldLabel:messages["ext.catalog.product.form.sku"],name:"sku",allowBlank:false})}f.push({title:d[g].attributeGroupName,layout:"column",defaults:{margin:"0 15 10 15",columnWidth:1},items:a})}for(var e=0;e<c.length;e++){f.push(c[e])}return{xtype:"tabpanel",id:"productTabPanel",plain:true,defaults:{bodyStyle:"padding:10px"},items:f}}function genCustomerFields(b,a){return genDynamicFields(b,a,"Customer")}function genProductFields(b,a){return genDynamicFields(b,a,"Product")}function genDynamicFields(d,b,l){var g=[],e=0,f=b.record;for(;e<d.length;e++){var j=d[e];var n={fieldLabel:j.frontendLabel,name:j.code};switch(j.frontendInput){case"text":Ext.apply(n,{xtype:"textfield"});break;case"textarea":Ext.apply(n,{xtype:"textareafield"});break;case"bool":Ext.apply(n,{xtype:"combo",queryMode:"local",store:booleanStore,displayField:"label",valueField:"value"});break;case"multiselect":Ext.apply(n,{xtype:"combo",queryMode:"local",displayField:"label",valueField:"value",multiSelect:true,store:createOptionStore(j.optionValueMap)});break;case"price":Ext.apply(n,{xtype:"numberfield"});break;case"date":Ext.apply(n,{xtype:"datefield"});if(!Ext.isEmpty(j.attrValue)){j.attrValue=new Date(j.attrValue)}break;case"select":Ext.apply(n,{xtype:"combo",queryMode:"local",displayField:"label",valueField:"value",store:createOptionStore(j.optionValueMap)});break;case"media_image":break}if(j.isRequired){Ext.apply(n,{allowBlank:false})}if(j.isUnique){if(l=="Product"){Ext.apply(n,{validator:validProductAttrUnique,validateOnChange:false})}else{if(l=="Customer"){Ext.apply(n,{validator:validCustomerAttrUnique,validateOnChange:false})}}}if(!Ext.isEmpty(j.defaultValue)){f.set(j.code,j.defaultValue)}if(!Ext.isEmpty(j.attrValue)&&Ext.isEmpty(f.get(j.code))){var a=j.attrValue;if(j.frontendInput=="select"){a=parseInt(a,10)}else{if(j.frontendInput=="multiselect"){var c=0,h=a.split(","),m=[];for(;c<h.length;c++){m.push(parseInt(h[c],10))}a=m}}f.set(j.code,a)}g.push(n)}return g};